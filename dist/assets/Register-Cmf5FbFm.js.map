{"version":3,"file":"Register-Cmf5FbFm.js","sources":["../../src/components/Auth/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\n\r\nconst Register = () => {\r\n  const { register, error: authError } = useAuth();\r\n  const [formData, setFormData] = useState({ name: \"\", email: \"\", password: \"\" });\r\n  const [localError, setLocalError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    console.log(`[REGISTER] Cambio de campo: ${e.target.name} -> ${e.target.value}`);\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLocalError(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      console.log(\"[REGISTER] Enviando formulario con datos:\", formData);\r\n      await register(formData);\r\n      console.log(\"[REGISTER] Registro exitoso, redirigiendo a /login\");\r\n      navigate(\"/login\");\r\n    } catch (err) {\r\n      console.error(\"[REGISTER] Error durante el registro:\", err);\r\n      setLocalError(err.message); // Mostrar el error lanzado por register\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-b from-amber-50 to-orange-100 font-sans\">\r\n      <div className=\"bg-white p-8 rounded shadow-md w-full max-w-md\">\r\n        <h2 className=\"text-2xl font-bold mb-6 text-center\">Registrarse</h2>\r\n        {localError && <p className=\"text-red-500 text-center mb-4\">{localError}</p>}\r\n        {authError && <p className=\"text-red-500 text-center mb-4\">{authError}</p>}\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label htmlFor=\"name\" className=\"block text-gray-800 font-medium mb-1\">\r\n              Nombre\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              required\r\n              className=\"w-full px-4 py-3 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500\"\r\n              placeholder=\"Tu nombre\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-gray-800 font-medium mb-1\">\r\n              Correo Electrónico\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n              className=\"w-full px-4 py-3 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500\"\r\n              placeholder=\"tu@email.com\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-gray-800 font-medium mb-1\">\r\n              Contraseña\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n              className=\"w-full px-4 py-3 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500\"\r\n              placeholder=\"Tu contraseña\"\r\n            />\r\n          </div>\r\n          <motion.button\r\n            whileHover={{ scale: 1.05, backgroundColor: \"#D4AF37\" }}\r\n            whileTap={{ scale: 0.95 }}\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className={`w-full bg-orange-600 text-white font-semibold py-3 px-8 rounded-full shadow-lg transition duration-300 ${\r\n              loading ? \"opacity-50 cursor-not-allowed\" : \"\"\r\n            }`}\r\n          >\r\n            {loading ? \"Cargando...\" : \"Registrarse\"}\r\n          </motion.button>\r\n        </form>\r\n        <p className=\"mt-4 text-center text-gray-600\">\r\n          ¿Ya tienes una cuenta?{\" \"}\r\n          <Link to=\"/login\" className=\"text-orange-600 font-semibold hover:underline\">\r\n            Inicia Sesión\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["Register","register","authError","useAuth","formData","setFormData","useState","localError","setLocalError","loading","setLoading","navigate","useNavigate","handleChange","e","handleSubmit","err","jsxs","jsx","motion","Link"],"mappings":"4GAKA,MAAMA,EAAW,IAAM,CACrB,KAAM,CAAE,SAAAC,EAAU,MAAOC,CAAA,EAAcC,EAAQ,EACzC,CAACC,EAAUC,CAAW,EAAIC,EAAS,SAAA,CAAE,KAAM,GAAI,MAAO,GAAI,SAAU,EAAA,CAAI,EACxE,CAACC,EAAYC,CAAa,EAAIF,EAAAA,SAAS,EAAE,EACzC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAK,EACtCK,EAAWC,EAAY,EAEvBC,EAAgBC,GAAM,CAClB,QAAA,IAAI,+BAA+BA,EAAE,OAAO,IAAI,OAAOA,EAAE,OAAO,KAAK,EAAE,EACnET,EAAA,CAAE,GAAGD,EAAU,CAACU,EAAE,OAAO,IAAI,EAAGA,EAAE,OAAO,MAAO,CAC9D,EAEMC,EAAe,MAAOD,GAAM,CAChCA,EAAE,eAAe,EACjBN,EAAc,EAAE,EAChBE,EAAW,EAAI,EAEX,GAAA,CACM,QAAA,IAAI,4CAA6CN,CAAQ,EACjE,MAAMH,EAASG,CAAQ,EACvB,QAAQ,IAAI,oDAAoD,EAChEO,EAAS,QAAQ,QACVK,EAAK,CACJ,QAAA,MAAM,wCAAyCA,CAAG,EAC1DR,EAAcQ,EAAI,OAAO,CAAA,QACzB,CACAN,EAAW,EAAK,CAAA,CAEpB,EAEA,aACG,MAAI,CAAA,UAAU,uGACb,SAACO,EAAA,KAAA,MAAA,CAAI,UAAU,iDACb,SAAA,CAACC,EAAA,IAAA,KAAA,CAAG,UAAU,sCAAsC,SAAW,cAAA,EAC9DX,GAAcW,EAAA,IAAC,IAAE,CAAA,UAAU,gCAAiC,SAAWX,EAAA,EACvEL,GAAagB,EAAA,IAAC,IAAE,CAAA,UAAU,gCAAiC,SAAUhB,EAAA,EACrEe,EAAA,KAAA,OAAA,CAAK,SAAUF,EAAc,UAAU,YACtC,SAAA,CAAAE,OAAC,MACC,CAAA,SAAA,CAAAC,MAAC,QAAM,CAAA,QAAQ,OAAO,UAAU,uCAAuC,SAEvE,SAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,OACH,KAAK,OACL,MAAOd,EAAS,KAChB,SAAUS,EACV,SAAQ,GACR,UAAU,6GACV,YAAY,WAAA,CAAA,CACd,EACF,SACC,MACC,CAAA,SAAA,CAAAK,MAAC,QAAM,CAAA,QAAQ,QAAQ,UAAU,uCAAuC,SAExE,qBAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,QACL,GAAG,QACH,KAAK,QACL,MAAOd,EAAS,MAChB,SAAUS,EACV,SAAQ,GACR,UAAU,6GACV,YAAY,cAAA,CAAA,CACd,EACF,SACC,MACC,CAAA,SAAA,CAAAK,MAAC,QAAM,CAAA,QAAQ,WAAW,UAAU,uCAAuC,SAE3E,aAAA,EACAA,EAAA,IAAC,QAAA,CACC,KAAK,WACL,GAAG,WACH,KAAK,WACL,MAAOd,EAAS,SAChB,SAAUS,EACV,SAAQ,GACR,UAAU,6GACV,YAAY,eAAA,CAAA,CACd,EACF,EACAK,EAAA,IAACC,EAAO,OAAP,CACC,WAAY,CAAE,MAAO,KAAM,gBAAiB,SAAU,EACtD,SAAU,CAAE,MAAO,GAAK,EACxB,KAAK,SACL,SAAUV,EACV,UAAW,0GACTA,EAAU,gCAAkC,EAC9C,GAEC,WAAU,cAAgB,aAAA,CAAA,CAC7B,EACF,EACAQ,EAAAA,KAAC,IAAE,CAAA,UAAU,iCAAiC,SAAA,CAAA,yBACrB,UACtBG,EAAK,CAAA,GAAG,SAAS,UAAU,gDAAgD,SAE5E,eAAA,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ"}