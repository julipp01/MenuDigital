{"version":3,"file":"MenuViewer-tAJ4EX5N.js","sources":["../../src/components/MenuViewer.jsx"],"sourcesContent":["// frontend/src/components/MenuViewer.jsx\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport api from \"@/services/api\";\r\nimport ThreeDViewer from \"@/components/ThreeDViewer\";\r\n\r\nconst BACKEND_URL = import.meta.env.VITE_BACKEND_URL || \"http://192.168.18.22:5000\";\r\n\r\nconst MenuViewer = ({ restaurantId }) => {\r\n  const [menuItems, setMenuItems] = useState([]);\r\n  const [restaurantName, setRestaurantName] = useState(\"Mi Restaurante\");\r\n  const [logo, setLogo] = useState(null);\r\n  const [colors, setColors] = useState({ primary: \"#FF9800\", secondary: \"#4CAF50\" });\r\n  const [menuSections, setMenuSections] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [activeSection, setActiveSection] = useState(null);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const tabsRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const menuResponse = await api.get(`/menu/${restaurantId}`);\r\n        console.log(\"Respuesta de /menu:\", menuResponse.data);\r\n\r\n        const restaurantData = menuResponse.data.restaurant || {};\r\n        setRestaurantName(restaurantData.name || \"Mi Restaurante\");\r\n        setLogo(restaurantData.logo_url || null);\r\n        setColors(restaurantData.colors || { primary: \"#FF9800\", secondary: \"#4CAF50\" });\r\n        const loadedSections = restaurantData.sections || { \"Platos Principales\": [], \"Postres\": [], \"Bebidas\": [] };\r\n        setMenuSections(loadedSections);\r\n        setActiveSection(\"Más Vendidos\"); // Sección inicial\r\n\r\n        const items = (menuResponse.data.items || []).map((item) => ({\r\n          ...item,\r\n          image_url: item.image_url && item.image_url.startsWith(\"http\") ? item.image_url.replace(BACKEND_URL, \"\") : item.image_url,\r\n          category: item.category || \"Platos Principales\"\r\n        }));\r\n        setMenuItems(items);\r\n      } catch (error) {\r\n        console.error(\"[MenuViewer] Error cargando datos:\", error.response?.data || error.message);\r\n        setMenuSections({ \"Platos Principales\": [], \"Postres\": [], \"Bebidas\": [] });\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [restaurantId]);\r\n\r\n  const openItemDetails = (item) => setSelectedItem(item);\r\n  const closeItemDetails = () => setSelectedItem(null);\r\n\r\n  const scrollToSection = (section) => {\r\n    setActiveSection(section);\r\n    document.getElementById(section.replace(/\\s+/g, \"-\").toLowerCase())?.scrollIntoView({ behavior: \"smooth\" });\r\n    setIsMenuOpen(false);\r\n  };\r\n\r\n  // Simulación de platos más vendidos (puedes ajustar esto con datos reales)\r\n  const topItems = menuItems.slice(0, 3);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-4 border-indigo-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 font-sans\">\r\n      {/* Encabezado */}\r\n      <header className=\"fixed top-0 left-0 right-0 bg-white shadow-xl p-6 z-20\">\r\n        <div className=\"max-w-7xl mx-auto flex flex-col items-center text-center\">\r\n          <div className=\"flex items-center mb-2\">\r\n            {logo && (\r\n              <img\r\n                src={BACKEND_URL + logo}\r\n                alt={restaurantName}\r\n                className=\"w-16 h-16 rounded-full shadow-lg mr-4\"\r\n                onError={(e) => (e.target.src = \"/fallback-logo.png\")}\r\n              />\r\n            )}\r\n            <h1 className=\"text-4xl font-extrabold tracking-tight\" style={{ color: colors.primary }}>\r\n              {restaurantName}\r\n            </h1>\r\n          </div>\r\n          {/* Reseñas y valoración */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"flex text-yellow-400\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <svg key={i} className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.15c.969 0 1.371 1.24.588 1.81l-3.357 2.44a1 1 0 00-.364 1.118l1.287 3.97c.3.921-.755 1.688-1.54 1.118l-3.357-2.44a1 1 0 00-1.175 0l-3.357 2.44c-.784.57-1.838-.197-1.54-1.118l1.287-3.97a1 1 0 00-.364-1.118L2.074 9.397c-.784-.57-.38-1.81.588-1.81h4.15a1 1 0 00.95-.69l1.286-3.97z\" />\r\n                </svg>\r\n              ))}\r\n            </div>\r\n            <span className=\"text-gray-600 text-sm font-medium\">\r\n              4.8 (120 reseñas)\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Contenido principal */}\r\n      <div className=\"pt-32 pb-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Pestañas */}\r\n        <nav\r\n          ref={tabsRef}\r\n          className={`fixed left-0 right-0 top-20 bg-white shadow-lg z-10 transition-all duration-300 ${\r\n            isMenuOpen ? \"block\" : \"hidden md:block\"\r\n          }`}\r\n        >\r\n          <div className=\"max-w-7xl mx-auto px-4 py-3 flex md:flex-row flex-col gap-2 overflow-x-auto scrollbar-hide\">\r\n            <button\r\n              onClick={() => scrollToSection(\"Más Vendidos\")}\r\n              className={`flex-shrink-0 px-6 py-2 text-base font-semibold rounded-full shadow-md transition-all duration-200 ${\r\n                activeSection === \"Más Vendidos\"\r\n                  ? \"text-white scale-105\"\r\n                  : \"text-gray-700 hover:text-white hover:bg-opacity-90\"\r\n              }`}\r\n              style={{\r\n                backgroundColor: activeSection === \"Más Vendidos\" ? colors.primary : colors.primary + \"20\",\r\n              }}\r\n            >\r\n              Más Vendidos\r\n            </button>\r\n            {Object.keys(menuSections).map((section) => (\r\n              <button\r\n                key={section}\r\n                onClick={() => scrollToSection(section)}\r\n                className={`flex-shrink-0 px-6 py-2 text-base font-semibold rounded-full shadow-md transition-all duration-200 ${\r\n                  activeSection === section\r\n                    ? \"text-white scale-105\"\r\n                    : \"text-gray-700 hover:text-white hover:bg-opacity-90\"\r\n                }`}\r\n                style={{\r\n                  backgroundColor: activeSection === section ? colors.primary : colors.primary + \"20\",\r\n                }}\r\n              >\r\n                {section}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </nav>\r\n\r\n        {/* Botón de menú en móviles */}\r\n        <button\r\n          className=\"fixed top-20 right-4 md:hidden p-3 bg-white rounded-full shadow-lg z-20\"\r\n          onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n        >\r\n          <svg className=\"w-6 h-6 text-gray-700\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16m-7 6h7\" />\r\n          </svg>\r\n        </button>\r\n\r\n        {/* Sección de Platos Más Vendidos */}\r\n        <section id=\"mas-vendidos\" className=\"mb-16 mt-16\">\r\n          <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">Más Vendidos</h2>\r\n          <ul className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {topItems.map((item) => {\r\n              const imageSrc = item.image_url || item.imageUrl;\r\n              return (\r\n                <li\r\n                  key={item.id || item.name}\r\n                  className=\"bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 cursor-pointer\"\r\n                  onClick={() => openItemDetails(item)}\r\n                >\r\n                  <div className=\"relative\">\r\n                    {imageSrc ? (\r\n                      imageSrc.endsWith(\".glb\") ? (\r\n                        <div className=\"w-full h-48\">\r\n                          <ThreeDViewer modelUrl={BACKEND_URL + imageSrc} autoRotate={true} />\r\n                        </div>\r\n                      ) : (\r\n                        <img\r\n                          src={BACKEND_URL + imageSrc}\r\n                          alt={item.name}\r\n                          className=\"w-full h-48 object-cover\"\r\n                          onError={(e) => (e.target.src = \"/fallback-image.png\")}\r\n                        />\r\n                      )\r\n                    ) : (\r\n                      <div className=\"w-full h-48 flex items-center justify-center bg-gray-200 text-gray-500\">\r\n                        Sin Imagen\r\n                      </div>\r\n                    )}\r\n                    <span\r\n                      className=\"absolute top-2 right-2 px-3 py-1 text-sm font-medium text-white rounded-full shadow\"\r\n                      style={{ backgroundColor: colors.secondary }}\r\n                    >\r\n                      S/. {item.price}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"p-5\">\r\n                    <p className=\"text-xl font-semibold text-gray-800\">{item.name}</p>\r\n                    <p className=\"text-sm text-gray-600 line-clamp-2\">{item.description}</p>\r\n                  </div>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </section>\r\n\r\n        {/* Otras secciones */}\r\n        <main className=\"mt-8\">\r\n          {Object.keys(menuSections).map((section) => (\r\n            <section\r\n              key={section}\r\n              id={section.replace(/\\s+/g, \"-\").toLowerCase()}\r\n              className=\"mb-16\"\r\n            >\r\n              <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">{section}</h2>\r\n              <ul className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                {menuItems\r\n                  .filter((item) => item.category === section)\r\n                  .map((item) => {\r\n                    const imageSrc = item.image_url || item.imageUrl;\r\n                    return (\r\n                      <li\r\n                        key={item.id || item.name}\r\n                        className=\"bg-white rounded-2xl shadow-lg overflow-hidden transform transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 cursor-pointer\"\r\n                        onClick={() => openItemDetails(item)}\r\n                      >\r\n                        <div className=\"relative\">\r\n                          {imageSrc ? (\r\n                            imageSrc.endsWith(\".glb\") ? (\r\n                              <div className=\"w-full h-48\">\r\n                                <ThreeDViewer modelUrl={BACKEND_URL + imageSrc} autoRotate={true} />\r\n                              </div>\r\n                            ) : (\r\n                              <img\r\n                                src={BACKEND_URL + imageSrc}\r\n                                alt={item.name}\r\n                                className=\"w-full h-48 object-cover\"\r\n                                onError={(e) => (e.target.src = \"/fallback-image.png\")}\r\n                              />\r\n                            )\r\n                          ) : (\r\n                            <div className=\"w-full h-48 flex items-center justify-center bg-gray-200 text-gray-500\">\r\n                              Sin Imagen\r\n                            </div>\r\n                          )}\r\n                          <span\r\n                            className=\"absolute top-2 right-2 px-3 py-1 text-sm font-medium text-white rounded-full shadow\"\r\n                            style={{ backgroundColor: colors.secondary }}\r\n                          >\r\n                            S/. {item.price}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"p-5\">\r\n                          <p className=\"text-xl font-semibold text-gray-800\">{item.name}</p>\r\n                          <p className=\"text-sm text-gray-600 line-clamp-2\">{item.description}</p>\r\n                        </div>\r\n                      </li>\r\n                    );\r\n                  })}\r\n              </ul>\r\n            </section>\r\n          ))}\r\n        </main>\r\n      </div>\r\n\r\n      {/* Modal de detalles */}\r\n      {selectedItem && (\r\n        <div\r\n          className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 animate-fade-in\"\r\n          onClick={closeItemDetails}\r\n        >\r\n          <div\r\n            className=\"bg-white rounded-3xl p-8 max-w-lg w-full mx-4 shadow-2xl transform transition-all duration-300 scale-100 hover:scale-102\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n              <h3 className=\"text-2xl font-bold\" style={{ color: colors.primary }}>\r\n                {selectedItem.name}\r\n              </h3>\r\n              <button\r\n                onClick={closeItemDetails}\r\n                className=\"text-gray-500 hover:text-gray-700 text-3xl font-bold\"\r\n              >\r\n                ×\r\n              </button>\r\n            </div>\r\n            {selectedItem.image_url ? (\r\n              selectedItem.image_url.endsWith(\".glb\") ? (\r\n                <div className=\"w-full h-80\">\r\n                  <ThreeDViewer modelUrl={BACKEND_URL + selectedItem.image_url} autoRotate={true} />\r\n                </div>\r\n              ) : (\r\n                <img\r\n                  src={BACKEND_URL + selectedItem.image_url}\r\n                  alt={selectedItem.name}\r\n                  className=\"w-full h-80 object-cover rounded-xl mb-6\"\r\n                  onError={(e) => (e.target.src = \"/fallback-image.png\")}\r\n                />\r\n              )\r\n            ) : (\r\n              <div className=\"w-full h-80 flex items-center justify-center bg-gray-200 rounded-xl text-gray-500\">\r\n                Sin Imagen\r\n              </div>\r\n            )}\r\n            <p className=\"text-gray-700 text-base mb-6\">{selectedItem.description}</p>\r\n            <p className=\"text-xl font-semibold\" style={{ color: colors.secondary }}>\r\n              S/. {selectedItem.price}\r\n            </p>\r\n            <button\r\n              onClick={() => alert(`Añadido al pedido: ${selectedItem.name}`)}\r\n              className=\"mt-6 w-full py-4 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-xl shadow-lg hover:from-indigo-700 hover:to-indigo-800 transition-all duration-200 text-lg font-medium\"\r\n            >\r\n              Añadir al Pedido\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MenuViewer;"],"names":["BACKEND_URL","MenuViewer","restaurantId","menuItems","setMenuItems","useState","restaurantName","setRestaurantName","logo","setLogo","colors","setColors","menuSections","setMenuSections","loading","setLoading","selectedItem","setSelectedItem","activeSection","setActiveSection","isMenuOpen","setIsMenuOpen","tabsRef","useRef","useEffect","menuResponse","api","restaurantData","loadedSections","items","item","error","openItemDetails","closeItemDetails","scrollToSection","section","topItems","jsx","jsxs","e","_","i","imageSrc","ThreeDViewer"],"mappings":"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"}